---
title: Basic Usage
description: Getting started with @node-zugferd/api
---

The API Plugin provides endpoints for:

- Previewing an invoice as html
- Generating PDF/A-3b compliant invoices

## Creating an invoice

To create an invoice we first need to define the data.
The following example uses the [basic](/docs/profiles/basic) profile as example.

```ts
import type { ProfileBasic } from "node-zugferd/profile/basic";

const data: ProfileBasic = {
    // ...
}
```

Then we need to call the endpoint with the data as body.
This can be done client or server-side.

### Server Side

```ts
import { invoicer } from "./invoicer"; // path to your invoicer file

const result: Blob = await invoicer.api.create({
    body: {
        data, // pass the data defined previously
    },
});
```

### Client Side

```ts
import { zugferdClient } from "./lib/zugferd-client"; // path to your zugferd client

const { data, error } = await zugferdClient("@post/create", {
    body: {
        data, // pass the data defined previously
    },
});
```

You can also use it with client-side data-fetching libraries like [TanStack Query](https://tanstack.com/query/latest).

## Previewing an invoice

To preview an invoice we first need to define the data.
The following example uses the [basic](/docs/profiles/basic) profile as example.

```ts
import type { ProfileBasic } from "node-zugferd/profile/basic";

const data: ProfileBasic = {
    // ...
}
```

The preview endpoint always requires authentication so we need to create an access token next.
The token will have a lifespan of 1 minute.

```ts
import { invoicer } from "./invoicer"; // path to your invoicer
import { signToken } from "@node-zugferd/api/utils";

const token = signToken(await invoicer.apiContext);
```

Now we can finally call the endpoint. Make sure to pass the token to the headers.

```ts
// Returns the generated html
const result: string = await invoicer.api.preview({
    body: {
        data, // pass the data defined previously
    },
    headers: {
        Authorization: `Bearer ${token}`,
    },
});
```